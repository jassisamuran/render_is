{"ast":null,"code":"import{USER_DELETE_FAIL,USER_DELETE_REQUEST,USER_DELETE_SUCCESS,USER_DETAILS_FAIL,USER_DETAILS_REQUEST,USER_DETAILS_SUCCESS,USER_LIST_FAIL,USER_LIST_REQUEST,USER_LIST_RESET,USER_LIST_SUCCESS,USER_LOGIN_FAIL,USER_LOGIN_REQUEST,USER_LOGIN_SUCCESS,USER_LOGOUT,USER_REGISTER_FAIL,USER_REGISTER_REQUEST,USER_REGISTER_SUCCESS,USER_UPDATE_PROFILE_FAIL,USER_UPDATE_PROFILE_REQUEST,USER_UPDATE_PROFILE_SUCCESS}from\"../constants/userConstansts\";import axios from'axios';import{ORDER_LIST_MY_RESET}from\"../constants/orderConstansts\";export const login=(email,password)=>async dispatch=>{try{dispatch({type:USER_LOGIN_REQUEST});const config={headers:{'Content-type':'application/json'}};const{data}=await axios.post('/api/users/login',{email,password},config);dispatch({type:USER_LOGIN_SUCCESS,payload:data});localStorage.setItem('userInfo',JSON.stringify(data));}catch(error){dispatch({type:USER_LOGIN_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const logout=()=>dispatch=>{localStorage.removeItem('userInfo');dispatch({type:USER_LOGOUT});dispatch({type:USER_DETAILS_REQUEST});dispatch({type:ORDER_LIST_MY_RESET});dispatch({type:USER_LIST_RESET});localStorage.clear();};export const register=(name,email,password)=>async dispatch=>{try{dispatch({type:USER_REGISTER_REQUEST});const config={headers:{'Content-type':'application/json'}};const{data}=await axios.post('/api/users',{name,email,password},config);dispatch({type:USER_REGISTER_SUCCESS,payload:data});dispatch({type:USER_LOGIN_SUCCESS,payload:data});// localStorage.setItem('userInfo',JSON.stringify(data))\n}catch(error){dispatch({type:USER_REGISTER_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const getUserDetails=id=>async(dispatch,getState)=>{try{dispatch({type:USER_DETAILS_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.get(\"/api/users/\".concat(id),config);console.log(data);dispatch({type:USER_DETAILS_SUCCESS,payload:data});}catch(error){dispatch({type:USER_DETAILS_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const updateUserProfile=user=>async(dispatch,getState)=>{try{dispatch({type:USER_UPDATE_PROFILE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{'Content-type':'application/json',Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.put(\"/api/users/profile\",user,config);dispatch({type:USER_UPDATE_PROFILE_SUCCESS,payload:data});}catch(error){dispatch({type:USER_UPDATE_PROFILE_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const listUsers=()=>async(dispatch,getState)=>{try{dispatch({type:USER_LIST_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};const{data}=await axios.get(\"/api/users\",config);// console.log(data)\ndispatch({type:USER_LIST_SUCCESS,payload:data});}catch(error){dispatch({type:USER_LIST_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};export const deleteUsers=id=>async(dispatch,getState)=>{try{dispatch({type:USER_DELETE_REQUEST});const{userLogin:{userInfo}}=getState();const config={headers:{Authorization:\"Bearer \".concat(userInfo.token)}};await axios.delete(\"/api/users/\".concat(id),config);dispatch({type:USER_DELETE_SUCCESS});}catch(error){dispatch({type:USER_DELETE_FAIL,payload:error.response&&error.response.data.message?error.response.data.message:error.message});}};","map":{"version":3,"names":["USER_DELETE_FAIL","USER_DELETE_REQUEST","USER_DELETE_SUCCESS","USER_DETAILS_FAIL","USER_DETAILS_REQUEST","USER_DETAILS_SUCCESS","USER_LIST_FAIL","USER_LIST_REQUEST","USER_LIST_RESET","USER_LIST_SUCCESS","USER_LOGIN_FAIL","USER_LOGIN_REQUEST","USER_LOGIN_SUCCESS","USER_LOGOUT","USER_REGISTER_FAIL","USER_REGISTER_REQUEST","USER_REGISTER_SUCCESS","USER_UPDATE_PROFILE_FAIL","USER_UPDATE_PROFILE_REQUEST","USER_UPDATE_PROFILE_SUCCESS","axios","ORDER_LIST_MY_RESET","login","email","password","dispatch","type","config","headers","data","post","payload","localStorage","setItem","JSON","stringify","error","response","message","logout","removeItem","clear","register","name","getUserDetails","id","getState","userLogin","userInfo","Authorization","token","get","console","log","updateUserProfile","user","put","listUsers","deleteUsers","delete"],"sources":["/home/kali/Desktop/c++/proshop/src/actions/userActions.js"],"sourcesContent":["import { USER_DELETE_FAIL, USER_DELETE_REQUEST, USER_DELETE_SUCCESS, USER_DETAILS_FAIL, USER_DETAILS_REQUEST, USER_DETAILS_SUCCESS, USER_LIST_FAIL, USER_LIST_REQUEST, USER_LIST_RESET, USER_LIST_SUCCESS, USER_LOGIN_FAIL, USER_LOGIN_REQUEST, USER_LOGIN_SUCCESS, USER_LOGOUT, USER_REGISTER_FAIL, USER_REGISTER_REQUEST, USER_REGISTER_SUCCESS, USER_UPDATE_PROFILE_FAIL, USER_UPDATE_PROFILE_REQUEST, USER_UPDATE_PROFILE_SUCCESS } from \"../constants/userConstansts\"\nimport axios from 'axios'\nimport { ORDER_LIST_MY_RESET } from \"../constants/orderConstansts\"\n\nexport const login=(email,password)=>async(dispatch)=>{\n    try{\n        dispatch({\n            type:USER_LOGIN_REQUEST\n        })\n        const config={\n            headers:{\n                'Content-type':'application/json'\n            }\n        }\n        const {data}=await axios.post('/api/users/login',{email,password},config)\n        dispatch({\n            type:USER_LOGIN_SUCCESS,\n            payload:data\n        })\n        localStorage.setItem('userInfo',JSON.stringify(data))\n    }catch(error){\n        dispatch({\n            type:USER_LOGIN_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}\nexport const logout=()=>(dispatch)=>{\n    localStorage.removeItem('userInfo')\n    dispatch({type:USER_LOGOUT})\n    dispatch({type:USER_DETAILS_REQUEST})\n    dispatch({type:ORDER_LIST_MY_RESET})\n    dispatch({type:USER_LIST_RESET})\n    localStorage.clear();\n}\n\nexport const register=(name,email,password)=>async(dispatch)=>{\n    try{\n        dispatch({\n            type:USER_REGISTER_REQUEST\n        })\n        const config={\n            headers:{\n                'Content-type':'application/json'\n            }\n        }\n        const {data}=await axios.post('/api/users',{name,email,password},config)\n        dispatch({\n            type:USER_REGISTER_SUCCESS,\n            payload:data\n        })\n        dispatch({\n            type:USER_LOGIN_SUCCESS,\n            payload:data\n        })\n\n        // localStorage.setItem('userInfo',JSON.stringify(data))\n    }catch(error){\n        dispatch({\n            type:USER_REGISTER_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}\n\n\nexport const getUserDetails=(id)=>async(dispatch,getState)=>{\n    try{\n        dispatch({\n            type:USER_DETAILS_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                'Content-type':'application/json',\n                Authorization:`Bearer ${userInfo.token}`\n\n            }\n        }\n        const {data}=await axios.get(`/api/users/${id}`,config)\n        console.log(data)\n        dispatch({\n            type:USER_DETAILS_SUCCESS,\n            payload:data\n        })\n       \n    }catch(error){\n        dispatch({\n            type:USER_DETAILS_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}\n\n\nexport const updateUserProfile =(user)=>async(dispatch,getState)=>{\n    try{\n        dispatch({\n            type:USER_UPDATE_PROFILE_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                'Content-type':'application/json',\n                Authorization:`Bearer ${userInfo.token}`\n\n            }\n        }\n        const {data}=await axios.put(`/api/users/profile`,user,config)\n        dispatch({\n            type:USER_UPDATE_PROFILE_SUCCESS,\n            payload:data\n        })\n       \n    }catch(error){\n        dispatch({\n            type:USER_UPDATE_PROFILE_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}\n\n\nexport const listUsers =()=>async(dispatch,getState)=>{\n    try{\n        dispatch({\n            type:USER_LIST_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                Authorization:`Bearer ${userInfo.token}`\n\n            }\n        }\n        const {data}=await axios.get(`/api/users`,config)\n        // console.log(data)\n        dispatch({\n            type:USER_LIST_SUCCESS,\n            payload:data\n        })\n       \n    }catch(error){\n        dispatch({\n            type:USER_LIST_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}\n\nexport const deleteUsers =(id)=>async(dispatch,getState)=>{\n    try{\n        dispatch({\n            type:USER_DELETE_REQUEST\n        })\n        const {userLogin:{userInfo}}=getState()\n        const config={\n            headers:{\n                Authorization:`Bearer ${userInfo.token}`\n\n            }\n        }\n       await axios.delete(`/api/users/${id}`,config)\n        \n        dispatch({\n            type:USER_DELETE_SUCCESS,\n        })\n       \n    }catch(error){\n        dispatch({\n            type:USER_DELETE_FAIL,\n            payload:\n            error.response && error.response.data.message?\n            error.response.data.message:\n            error.message,\n        })\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}