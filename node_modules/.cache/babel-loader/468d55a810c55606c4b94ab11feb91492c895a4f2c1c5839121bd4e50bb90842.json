{"ast":null,"code":"import _regeneratorRuntime from\"/home/kali/Desktop/c++/proshop/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/kali/Desktop/c++/proshop/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import{useState}from\"react\";import{CART_ADD_ITEMS,CART_REMOVE_ITEMS,CART_SAVE_SHIPPING_ADDRESS,CART_SAVING_PAYMENT_METHOD}from\"../constants/cartConstants\";export var addToCart=function addToCart(id,qty){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch,getState){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get(\"/api/products/\".concat(id));case 2:_yield$axios$get=_context.sent;data=_yield$axios$get.data;console.log(data);dispatch({type:CART_ADD_ITEMS,payload:{product:data._id,name:data.name,image:data.image,price:data.price,countInStock:data.countInStock,qty:qty}});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x,_x2){return _ref.apply(this,arguments);};}();};export var removefromcart=function removefromcart(id){return function(dispatch,getState){dispatch({type:CART_REMOVE_ITEMS,payload:id});localStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems));};};export var saveShippingAddress=function saveShippingAddress(data){return function(dispatch){dispatch({type:CART_SAVE_SHIPPING_ADDRESS,payload:data});localStorage.setItem('shippingAddress',JSON.stringify(data));};};export var savePaymentMethod=function savePaymentMethod(data){return function(dispatch){dispatch({type:CART_SAVING_PAYMENT_METHOD,payload:data});localStorage.setItem('paymentMethod',JSON.stringify(data));// localStorage.setItem('paymentMethod',JSON.stringify(data))\n};};","map":{"version":3,"names":["axios","useState","CART_ADD_ITEMS","CART_REMOVE_ITEMS","CART_SAVE_SHIPPING_ADDRESS","CART_SAVING_PAYMENT_METHOD","addToCart","id","qty","dispatch","getState","get","data","console","log","type","payload","product","_id","name","image","price","countInStock","localStorage","setItem","JSON","stringify","cart","cartItems","removefromcart","saveShippingAddress","savePaymentMethod"],"sources":["/home/kali/Desktop/c++/proshop/src/actions/cartActions.js"],"sourcesContent":["import axios from \"axios\";\nimport { useState } from \"react\";\nimport { CART_ADD_ITEMS, CART_REMOVE_ITEMS,CART_SAVE_SHIPPING_ADDRESS ,\n        CART_SAVING_PAYMENT_METHOD} from \"../constants/cartConstants\";\n\nexport  const addToCart = (id,qty)=> async(dispatch,getState)=>{\nconst {data}=await axios.get(`/api/products/${id}`)\n console.log(data)\ndispatch({\n    type:CART_ADD_ITEMS,\n    payload:{\n        product:data._id,\n        name:data.name,\n        image:data.image,\n        price:data.price,\n        countInStock:data.countInStock,\n        qty,\n    }\n})\nlocalStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\n}\nexport const removefromcart=(id)=> (dispatch,getState)=>{\n    dispatch({\n        type:CART_REMOVE_ITEMS,\n        payload:id\n    })\nlocalStorage.setItem('cartItems',JSON.stringify(getState().cart.cartItems))\n}\n\nexport const saveShippingAddress=(data)=> (dispatch)=>{\n    dispatch({\n        type:CART_SAVE_SHIPPING_ADDRESS,\n        payload:data\n    })\nlocalStorage.setItem('shippingAddress',JSON.stringify(data))\n\n}\n\nexport const savePaymentMethod = (data) => (dispatch)=>{\n    dispatch({\n        type:CART_SAVING_PAYMENT_METHOD,\n        payload:data\n    })\n    localStorage.setItem('paymentMethod',JSON.stringify(data))\n// localStorage.setItem('paymentMethod',JSON.stringify(data))\n}"],"mappings":"wPAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,cAAc,CAAEC,iBAAiB,CAACC,0BAA0B,CAC7DC,0BAA0B,KAAO,4BAA4B,CAErE,MAAQ,IAAMC,UAAS,CAAG,QAAZA,UAAS,CAAIC,EAAE,CAACC,GAAG,mGAAI,iBAAMC,QAAQ,CAACC,QAAQ,mKACzCV,MAAK,CAACW,GAAG,yBAAkBJ,EAAE,EAAG,uCAA5CK,IAAI,kBAAJA,IAAI,CACVC,OAAO,CAACC,GAAG,CAACF,IAAI,CAAC,CAClBH,QAAQ,CAAC,CACLM,IAAI,CAACb,cAAc,CACnBc,OAAO,CAAC,CACJC,OAAO,CAACL,IAAI,CAACM,GAAG,CAChBC,IAAI,CAACP,IAAI,CAACO,IAAI,CACdC,KAAK,CAACR,IAAI,CAACQ,KAAK,CAChBC,KAAK,CAACT,IAAI,CAACS,KAAK,CAChBC,YAAY,CAACV,IAAI,CAACU,YAAY,CAC9Bd,GAAG,CAAHA,GACJ,CACJ,CAAC,CAAC,CACFe,YAAY,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAACC,SAAS,CAAChB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAAC,CAAC,sDAC1E,qEACD,MAAO,IAAMC,eAAc,CAAC,QAAfA,eAAc,CAAEtB,EAAE,QAAI,UAACE,QAAQ,CAACC,QAAQ,CAAG,CACpDD,QAAQ,CAAC,CACLM,IAAI,CAACZ,iBAAiB,CACtBa,OAAO,CAACT,EACZ,CAAC,CAAC,CACNgB,YAAY,CAACC,OAAO,CAAC,WAAW,CAACC,IAAI,CAACC,SAAS,CAAChB,QAAQ,EAAE,CAACiB,IAAI,CAACC,SAAS,CAAC,CAAC,CAC3E,CAAC,GAED,MAAO,IAAME,oBAAmB,CAAC,QAApBA,oBAAmB,CAAElB,IAAI,QAAI,UAACH,QAAQ,CAAG,CAClDA,QAAQ,CAAC,CACLM,IAAI,CAACX,0BAA0B,CAC/BY,OAAO,CAACJ,IACZ,CAAC,CAAC,CACNW,YAAY,CAACC,OAAO,CAAC,iBAAiB,CAACC,IAAI,CAACC,SAAS,CAACd,IAAI,CAAC,CAAC,CAE5D,CAAC,GAED,MAAO,IAAMmB,kBAAiB,CAAG,QAApBA,kBAAiB,CAAInB,IAAI,QAAK,UAACH,QAAQ,CAAG,CACnDA,QAAQ,CAAC,CACLM,IAAI,CAACV,0BAA0B,CAC/BW,OAAO,CAACJ,IACZ,CAAC,CAAC,CACFW,YAAY,CAACC,OAAO,CAAC,eAAe,CAACC,IAAI,CAACC,SAAS,CAACd,IAAI,CAAC,CAAC,CAC9D;AACA,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}