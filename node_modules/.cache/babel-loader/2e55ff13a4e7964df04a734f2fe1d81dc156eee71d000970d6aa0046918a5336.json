{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,redirect,useNavigate}from'react-router-dom';import{ReactLocation,Router}from'react-location';import{Form,Row,Col,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{register}from'../actions/userActions';import FormContainer from'../components/FormContainer';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const RegisterScreen=_ref=>{let{}=_ref;const navigate=useNavigate();const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setpassword]=useState('');const[confirmpassword,setConfirmpassword]=useState('');const[message,setMessage]=useState(null);const userLogin=useSelector(state=>state.userLogin);const{loading,error,userInfo}=userLogin;const location=new ReactLocation();const redirect=location.search?location.search.split('=')[1]:'/';console.log(redirect);useEffect(()=>{if(userInfo){navigate(redirect);}},[navigate,userInfo,redirect]);const dispatch=useDispatch();const submitHandler=e=>{e.preventDefault();if(password!==confirmpassword){setMessage('Password do not match');}else dispatch(register(name,email,password));};const setPassword=()=>{console.log('set password');};return/*#__PURE__*/_jsxs(FormContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Sign In\"}),message&&/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:message}),loading&&/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Form.Group,{controlId:\"name\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"name\",placeholder:\"Enter name\",value:name,onChange:e=>setName(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"email\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email Address\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",placeholder:\"Enter email\",value:email,onChange:e=>setEmail(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"password\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password \"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter password\",value:password,onChange:e=>setpassword(e.target.value)})]}),/*#__PURE__*/_jsxs(Form.Group,{controlId:\"confirmpassword\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"password\",placeholder:\"Enter password\",value:confirmpassword,onChange:e=>setConfirmpassword(e.target.value)})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",variant:\"primary\",children:\"Regiter\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsxs(Col,{children:[\"Have an Account?\",' ',/*#__PURE__*/_jsx(Link,{to:redirect?\"login?redirect=\".concat(redirect):'/login',children:\"Login\"})]})})]});};export default RegisterScreen;","map":{"version":3,"names":["React","useState","useEffect","Link","redirect","useNavigate","ReactLocation","Router","Form","Row","Col","Button","useDispatch","useSelector","Loader","Message","register","FormContainer","RegisterScreen","navigate","name","setName","email","setEmail","password","setpassword","confirmpassword","setConfirmpassword","message","setMessage","userLogin","state","loading","error","userInfo","location","search","split","console","log","dispatch","submitHandler","e","preventDefault","setPassword","target","value"],"sources":["/home/kali/Desktop/c++/proshop/src/screens/RegisterScreen.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {Link, redirect,useNavigate} from 'react-router-dom'\nimport { ReactLocation, Router } from 'react-location'\nimport {Form,Row,Col,Button} from 'react-bootstrap'\nimport {useDispatch,useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { register} from '../actions/userActions'\nimport FormContainer from '../components/FormContainer'\nconst RegisterScreen = ({}) => {\n    const navigate=useNavigate()\n    const [name,setName]=useState('')\n    const [email,setEmail]=useState('')\n    const [password,setpassword]=useState('')\n    const [confirmpassword,setConfirmpassword]=useState('')\n    const [message,setMessage]=useState(null)\n     \n    \n    const userLogin=useSelector(state=>state.userLogin)\n    const {loading,error,userInfo}=userLogin\n\n    const location = new ReactLocation()\n    const redirect=location.search?location.search.split('=')[1]:'/'\n    console.log(redirect)\n    useEffect(()=>{\n      if(userInfo){\n        navigate(redirect)\n      }\n    },[navigate,userInfo,redirect])\n    const dispatch=useDispatch()\n    \n    const submitHandler =(e)=>{\n      e.preventDefault()\n        if(password!==confirmpassword){\n            setMessage('Password do not match')\n        }else dispatch(register(name,email,password))\n    }\n    const setPassword=()=>{\n      console.log('set password')\n    }\n\n  return (\n    <FormContainer>\n      <h1>Sign In</h1>\n      {message && <Message variant='danger'>{message}</Message>}\n      {loading &&<Loader/>}\n      <Form onSubmit={submitHandler}>\n\n      <Form.Group controlId='name'>\n            <Form.Label>Name</Form.Label>\n            <Form.Control type='name' placeholder='Enter name'\n            value={name}\n            onChange={(e)=>setName(e.target.value)}\n            \n            ></Form.Control>\n        </Form.Group>\n\n        \n        <Form.Group controlId='email'>\n            <Form.Label>Email Address</Form.Label>\n            <Form.Control type='email' placeholder='Enter email'\n            value={email}\n            onChange={(e)=>setEmail(e.target.value)}\n            \n            ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId='password'>\n            <Form.Label>Password </Form.Label>\n            <Form.Control type='password' placeholder='Enter password'\n            value={password}\n            onChange={(e)=>setpassword(e.target.value)}\n            \n            ></Form.Control>\n        </Form.Group>\n\n        <Form.Group controlId='confirmpassword'>\n            <Form.Label>Confirm Password</Form.Label>\n            <Form.Control type='password' placeholder='Enter password'\n            value={confirmpassword}\n            onChange={(e)=>setConfirmpassword(e.target.value)}\n            \n            ></Form.Control>\n        </Form.Group>\n\n        <Button type='submit' variant='primary'>\n            Regiter\n        </Button>\n      </Form>\n\n      <Row className='py-3'>\n        <Col>\n        Have an Account?{' '}\n        <Link to={redirect?`login?redirect=${redirect}`:'/login'}>\n          Login\n        </Link>\n        </Col>\n      </Row>\n      \n    </FormContainer>\n  )\n}\n\nexport default RegisterScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}