{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{ReactLocation,Router}from'react-location';import{useNavigate}from\"react-router-dom\";import{Table,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{deleteUsers,listUsers}from'../actions/userActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const UserListScreen=()=>{const dispatch=useDispatch();const navigate=useNavigate();const userList=useSelector(state=>state.userList);const{loading,error,users}=userList;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;const userDelete=useSelector(state=>state.userDelete);const{success:successDelete}=userDelete;useEffect(()=>{if(userInfo!==null&&userInfo.name===\"Admin User\"){dispatch(listUsers());}else{navigate('/login');}},[dispatch,navigate,successDelete]);// console.log(users)\nconst deleteHandler=id=>{if(window.confirm('Are you sure')){dispatch(deleteUsers(id));}};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Users\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"EMAIL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"ADMIN\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(user=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:user._id}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"mailto:\".concat(user.email),children:user.email})}),/*#__PURE__*/_jsx(\"td\",{children:user.isAdmin?/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check\",style:{color:'green'}}):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/user/\".concat(user._id,\"/edit\"),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:()=>deleteHandler(user._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},user._id))})]})]});};export default UserListScreen;","map":{"version":3,"names":["React","useState","useEffect","LinkContainer","ReactLocation","Router","useNavigate","Table","Button","useDispatch","useSelector","Loader","Message","deleteUsers","listUsers","UserListScreen","dispatch","navigate","userList","state","loading","error","users","userLogin","userInfo","userDelete","success","successDelete","name","deleteHandler","id","window","confirm","map","user","_id","email","isAdmin","color"],"sources":["/home/kali/Desktop/c++/proshop/src/screens/UserListScreen.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {LinkContainer} from 'react-router-bootstrap'\nimport { ReactLocation, Router } from 'react-location'\nimport {useNavigate} from \"react-router-dom\"\n  \nimport {Table,Button} from 'react-bootstrap'\nimport {useDispatch,useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { deleteUsers, listUsers } from '../actions/userActions'\n\nconst UserListScreen = () => {\n    const dispatch=useDispatch()\n    const navigate=useNavigate()\n    const userList=useSelector(state=>state.userList)\n    const{loading,error,users}=userList\n    \n    const userLogin=useSelector((state)=>state.userLogin)\n    const {userInfo}=userLogin\n     \n    const userDelete=useSelector(state=>state.userDelete)\n    const{success:successDelete}=userDelete\n    useEffect(()=>{\n        if(userInfo!==null && userInfo.name===\"Admin User\"){\n        dispatch(listUsers())}\n        else{\n            navigate('/login')\n        }\n    },[dispatch,navigate,successDelete])\n  \n    // console.log(users)\n\n    const deleteHandler=(id)=>{\n        if(window.confirm('Are you sure')){\n        dispatch(deleteUsers(id))}\n    }\n    return (\n    <>\n        <h1>Users</h1>\n    {loading?<Loader/>:error?<Message variant='danger'>{error}</Message>\n    :(\n        <Table striped bordered hover responsive className='table-sm'>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>NAME</th>\n                    <th>EMAIL</th>\n                    <th>ADMIN</th>\n                    <th></th>\n                </tr>\n            </thead>\n            <tbody>\n               \n                {users.map(user=>(\n                    <tr key={user._id}>\n                        <td>{user._id}</td>\n                        <td>{user.name}</td>\n                        <td><a href={`mailto:${user.email}`}>{user.email}</a></td>\n                        <td>{user.isAdmin ?(<i className='fas fa-check' style={{color:'green'}}></i>):\n                        (<i className='fas fa-times' style={{color:'red'}}></i>)}</td>\n                        <td>\n                            \n                            <LinkContainer to={`/user/${user._id}/edit`}>\n                                <Button variant='light' className='btn-sm'>\n                                    <i className='fas fa-edit'></i>\n                                </Button>\n                            </LinkContainer>\n                            <Button variant='danger' className='btn-sm' onClick={()=>deleteHandler(user._id)}>\n                                <i className='fas fa-trash'></i>\n                            </Button>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n\n        </Table>\n    )}\n\n      \n    </>\n  )\n}\n\nexport default UserListScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}