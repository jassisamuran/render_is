{"ast":null,"code":"import React,{useState,useEffect}from'react';import{LinkContainer}from'react-router-bootstrap';import{ReactLocation,Router}from'react-location';import{useNavigate}from\"react-router-dom\";import{Table,Button}from'react-bootstrap';import{useDispatch,useSelector}from'react-redux';import Loader from'../components/Loader';import Message from'../components/Message';import{listOrders}from'../actions/orderActions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const OrderListScreen=()=>{const dispatch=useDispatch();const navigate=useNavigate();const orderList=useSelector(state=>state.orderList);const{loading,error,orders}=orderList;const userLogin=useSelector(state=>state.userLogin);const{userInfo}=userLogin;useEffect(()=>{if(userInfo!==null&&userInfo.name===\"Admin User\"){dispatch(listOrders());}else{navigate('/login');}},[dispatch,navigate,userInfo]);// console.log(users)\nconst deleteHandler=()=>{};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Orders\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:error}):/*#__PURE__*/_jsxs(Table,{striped:true,bordered:true,hover:true,responsive:true,className:\"table-sm\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"USER\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DATE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"TOTAL\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PAID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"DELIVERED\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:orders.map(order=>/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:order._id}),/*#__PURE__*/_jsx(\"td\",{children:order.user&&order.user.name}),/*#__PURE__*/_jsx(\"td\",{children:order.createdAt.substr(0,10)}),/*#__PURE__*/_jsx(\"td\",{children:order.totalPrice}),/*#__PURE__*/_jsx(\"td\",{children:order.isPaid?order.paidAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsx(\"td\",{children:order.isDelivered?order.deliveredAt.substring(0,10):/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-times\",style:{color:'red'}})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(LinkContainer,{to:\"/orders/\".concat(order._id),children:/*#__PURE__*/_jsx(Button,{variant:\"light\",className:\"btn-sm\",children:\"Details\"})}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"btn-sm\",onClick:()=>deleteHandler(order._id),children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})]})]},order._id))})]})]});};export default OrderListScreen;","map":{"version":3,"names":["React","useState","useEffect","LinkContainer","ReactLocation","Router","useNavigate","Table","Button","useDispatch","useSelector","Loader","Message","listOrders","OrderListScreen","dispatch","navigate","orderList","state","loading","error","orders","userLogin","userInfo","name","deleteHandler","map","order","_id","user","createdAt","substr","totalPrice","isPaid","paidAt","substring","color","isDelivered","deliveredAt"],"sources":["/home/kali/Desktop/c++/proshop/src/screens/OrderListScreen.js"],"sourcesContent":["import React,{useState,useEffect} from 'react'\nimport {LinkContainer} from 'react-router-bootstrap'\nimport { ReactLocation, Router } from 'react-location'\nimport {useNavigate} from \"react-router-dom\"\n  \nimport {Table,Button} from 'react-bootstrap'\nimport {useDispatch,useSelector} from 'react-redux'\nimport Loader from '../components/Loader'\nimport Message from '../components/Message'\nimport { listOrders } from '../actions/orderActions'\n\nconst OrderListScreen = () => {\n    const dispatch=useDispatch()\n    const navigate=useNavigate()\n    const orderList=useSelector(state=>state.orderList)\n    const{loading,error,orders}=orderList\n    \n    const userLogin=useSelector((state)=>state.userLogin)\n    const {userInfo}=userLogin\n      \n    useEffect(()=>{\n        if(userInfo!==null && userInfo.name===\"Admin User\"){\n        dispatch(listOrders())}\n        else{\n            navigate('/login')\n        }\n    },[dispatch,navigate,userInfo])\n  \n    // console.log(users)\nconst deleteHandler=()=>{\n\n}\n\n    return (\n    <>\n        <h1>Orders</h1>\n    {loading?<Loader/>:error?<Message variant='danger'>{error}</Message>\n    :(\n        <Table striped bordered hover responsive className='table-sm'>\n            <thead>\n                <tr>\n                    <th>ID</th>\n                    <th>USER</th>\n                    <th>DATE</th>\n                    <th>TOTAL</th>\n                    <th>PAID</th>\n                    <th>DELIVERED</th>\n                </tr>\n            </thead>\n            <tbody>\n               \n                {orders.map(order=>(\n                    <tr key={order._id}>\n                        <td>{order._id}</td>\n                        <td>{order.user && order.user.name}</td>\n                        <td>{order.createdAt.substr(0,10)}</td>\n                        <td>{order.totalPrice}</td>\n                        <td>{order.isPaid ?(order.paidAt.substring(0,10)):\n                        (<i className='fas fa-times' style={{color:'red'}}></i>)}</td>\n                        <td>{order.isDelivered ?(order.deliveredAt.substring(0,10)):\n                        (<i className='fas fa-times' style={{color:'red'}}></i>)}</td>\n                        \n                        <td>\n                            \n                            <LinkContainer to={`/orders/${order._id}`}>\n                                <Button variant='light' className='btn-sm'>\n                                    Details\n                                   \n                                </Button>\n                            </LinkContainer>\n                            <Button variant='danger' className='btn-sm' onClick={()=>deleteHandler(order._id)}>\n                                <i className='fas fa-trash'></i>\n                            </Button>\n                        </td>\n                    </tr>\n                ))}\n            </tbody>\n\n        </Table>\n    )}\n\n      \n    </>\n  )\n}\n\nexport default OrderListScreen\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}